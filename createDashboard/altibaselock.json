{"meta":{"type":"db","canSave":false,"canEdit":false,"canAdmin":false,"canStar":false,"slug":"altibaselock","url":"/d/f0gf87LWz/altibaselock","expires":"0001-01-01T00:00:00Z","created":"2019-12-27T15:23:07+09:00","updated":"2019-12-27T15:23:07+09:00","updatedBy":"admin","createdBy":"admin","version":1,"hasAcl":false,"isFolder":false,"folderId":0,"folderTitle":"General","folderUrl":"","provisioned":false,"provisionedExternalId":""},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"hideControls":false,"id":null,"iteration":1577427765614,"links":[],"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":null,"description":"Transaction 상태별 개수 추이","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":0},"id":2,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":false,"rightSide":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"Total","groupBy":[{"params":["2m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"alti_tx_count","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"TRANSACTION_CNT\") FROM \"alti_tx_count\" WHERE (\"TX_STATUS\" = 'TOTAL' AND \"host\" = 'nval02(receiver)') GROUP BY time(10s) fill(null)","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["TRANSACTION_CNT"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"TX_STATUS","operator":"=","value":"TOTAL"},{"condition":"AND","key":"host","operator":"=~","value":"/^$dbhost$/"}]},{"alias":"Begin","groupBy":[{"params":["2m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"alti_tx_count","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["TRANSACTION_CNT"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"TX_STATUS","operator":"=","value":"BEGIN"},{"condition":"AND","key":"host","operator":"=~","value":"/^$dbhost$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Transaction status count($dbhost)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":null,"description":"1분당 Lock Acquire/Release 회수","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":0},"id":7,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":false,"min":false,"rightSide":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"Lock Aquire","groupBy":[{"params":["2m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"alti_sysstat","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["VALUE"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"NAME","operator":"=","value":"lock acquired count"},{"condition":"AND","key":"host","operator":"=~","value":"/^$dbhost$/"}]},{"alias":"Lock Release","groupBy":[{"params":["2m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"alti_sysstat","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["VALUE"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"NAME","operator":"=","value":"lock released count"},{"condition":"AND","key":"host","operator":"=~","value":"/^$dbhost$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Lock Aquire count/1m($dbhost)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":null,"description":"Lock 개수 추이","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":8},"id":4,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":false,"rightSide":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"IX_LOCK","groupBy":[{"params":["2m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"alti_locktable_stat","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["LOCK_CNT"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"LOCK_DESC","operator":"=","value":"IX_LOCK"},{"condition":"AND","key":"host","operator":"=~","value":"/^$dbhost$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Lock count($dbhost)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":null,"description":"Lock retry 종류별 1분당 발생 건수","fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":12,"y":8},"id":11,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":false,"rightSide":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pluginVersion":"6.4.3","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"Update retry","groupBy":[{"params":["2m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"alti_sysstat","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["VALUE"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"NAME","operator":"=","value":"update retry count"},{"condition":"AND","key":"host","operator":"=~","value":"/^$dbhost$/"}]},{"alias":"Delete retry","groupBy":[{"params":["2m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"alti_sysstat","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["VALUE"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"NAME","operator":"=","value":"delete retry count"},{"condition":"AND","key":"NAME","operator":"=~","value":"/^$dbhost$/"}]},{"alias":"Lock row retry","groupBy":[{"params":["2m"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"alti_sysstat","orderByTime":"ASC","policy":"default","refId":"C","resultFormat":"time_series","select":[[{"params":["VALUE"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"NAME","operator":"=","value":"lock row retry count"},{"condition":"AND","key":"NAME","operator":"=~","value":"/^$dbhost$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Lock retry /1m($dbhost)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"columns":[],"datasource":null,"description":"Lock 잡은 Table List ","fontSize":"100%","gridPos":{"h":7,"w":24,"x":0,"y":16},"id":9,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"Time","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"Time","type":"date"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"/.*/","thresholds":[],"type":"number","unit":"short"}],"targets":[{"groupBy":[],"measurement":"alti_lockobj_list","orderByTime":"ASC","policy":"default","query":"SELECT SID, DB_USERNAME as USERNAME ,TBS_NAME as TABLESPACE,TABLE_NAME,LOCK_DESC from alti_lockobj_list WHERE (\"host\" =~ /^$dbhost$/)","rawQuery":false,"refId":"B","resultFormat":"table","select":[[{"params":["SID"],"type":"field"}],[{"params":["DB_USERNAME"],"type":"field"},{"params":["USERNAME"],"type":"alias"}],[{"params":["TBS_NAME"],"type":"field"},{"params":["TABLESPACE"],"type":"alias"}],[{"params":["TABLE_NAME"],"type":"field"}],[{"params":["LOCK_DESC"],"type":"field"}]],"tags":[{"key":"host","operator":"=~","value":"/^$dbhost$/"}]}],"timeFrom":null,"timeShift":null,"title":"Altibase Lock List($dbhost)","transform":"table","type":"table"}],"refresh":"5m","schemaVersion":20,"style":"dark","tags":[],"templating":{"list":[{"allValue":null,"current":{"selected":true,"text":"nval02(receiver)","value":"nval02(receiver)"},"hide":0,"includeAll":false,"label":"host","multi":false,"name":"dbhost","options":[{"selected":false,"text":"node1(105)","value":"node1(105)"},{"selected":false,"text":"node2(106)","value":"node2(106)"},{"selected":false,"text":"node3(107)","value":"node3(107)"},{"selected":false,"text":"node4(108)","value":"node4(108)"},{"selected":false,"text":"nval02(receiver)","value":"nval02(receiver)"},{"selected":false,"text":"nval03(senderclient)","value":"nval03(senderclient)"},{"selected":true,"text":"qar5","value":"qar5"}],"query":"node1(105),node2(106),node3(107),node4(108),nval02(receiver),nval03(senderclient),qar5","skipUrlSync":false,"type":"custom"}]},"time":{"from":"now-6h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]},"timezone":"","title":"altibaselock","uid":"f0gf87LWz","version":1}}
